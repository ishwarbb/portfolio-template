<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><title>Anish De | Fullstack Developer</title><meta name="description" content="10th grader • Fullstack Web Developer • Web3 Enthusiast • Blogger • Tech Enthusiast"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@AnishDe12020"/><meta name="twitter:creator" content="@AnishDe12020"/><meta property="og:title" content="Anish De | Fullstack Developer"/><meta property="og:description" content="10th grader • Fullstack Web Developer • Web3 Enthusiast • Blogger • Tech Enthusiast"/><meta property="og:url" content="https://anishde.dev/"/><meta property="og:type" content="website"/><meta property="og:image" content="https://res.cloudinary.com/anishde12020/image/upload/v1654360780/Blogfolio/og.png"/><meta property="og:image:alt" content="Anish De&#x27;s Portfolio Site&#x27;s Opengraph Image"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:site_name" content="Anish De"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Person","name":"Anish De","url":"https://anishde.dev/","sameAs":["https://twitter.com/AnishDe12020","https://www.youtube.com/anishtechtutorials"]}</script><meta name="robots" content="noindex,nofollow"/><meta name="next-head-count" content="18"/><meta name="msapplication-TileColor" content="#010101"/><meta name="theme-color" content="#010101"/><link rel="apple-touch-icon" sizes="57x57" href="/favicons/apple-icon-57x57.png"/><link rel="apple-touch-icon" sizes="60x60" href="/favicons/apple-icon-60x60.png"/><link rel="apple-touch-icon" sizes="72x72" href="/favicons/apple-icon-72x72.png"/><link rel="apple-touch-icon" sizes="76x76" href="/favicons/apple-icon-76x76.png"/><link rel="apple-touch-icon" sizes="114x114" href="/favicons/apple-icon-114x114.png"/><link rel="apple-touch-icon" sizes="120x120" href="/favicons/apple-icon-120x120.png"/><link rel="apple-touch-icon" sizes="144x144" href="/favicons/apple-icon-144x144.png"/><link rel="apple-touch-icon" sizes="152x152" href="/favicons/apple-icon-152x152.png"/><link rel="apple-touch-icon" sizes="180x180" href="/favicons/apple-icon-180x180.png"/><link rel="icon" type="image/png" sizes="192x192" href="/favicons/android-icon-192x192.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/favicons/favicon-96x96.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="manifest" href="/manifest.json"/><meta name="msapplication-TileImage" content="/favicon/ms-icon-144x144.png"/><link rel="preload" href="/_next/static/css/3ad2eede93f2aeb2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/3ad2eede93f2aeb2.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-0d1b80a048d4787e.js"></script><script src="/_next/static/chunks/webpack-c803dacc066c4022.js" defer=""></script><script src="/_next/static/chunks/framework-4556c45dd113b893.js" defer=""></script><script src="/_next/static/chunks/main-d25d2a7f1bb87506.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e4d57a23ba9cf093.js" defer=""></script><script src="/_next/static/chunks/675-7317b8e5ef18c488.js" defer=""></script><script src="/_next/static/chunks/pages/blog-wip/%5Bslug%5D-042c6d98819c2297.js" defer=""></script><script src="/_next/static/1y5MdXRHbj6Sx8QjW7rDU/_buildManifest.js" defer=""></script><script src="/_next/static/1y5MdXRHbj6Sx8QjW7rDU/_ssgManifest.js" defer=""></script><style id="__jsx-8b75a9ccf5c40d44">.gradient-underline.jsx-8b75a9ccf5c40d44 .jsx-8b75a9ccf5c40d44:not(.anchor){text-decoration:none;background-image:-webkit-linear-gradient(left,#be185d,#1d4ed8);background-image:-moz-linear-gradient(left,#be185d,#1d4ed8);background-image:-o-linear-gradient(left,#be185d,#1d4ed8);background-image:linear-gradient(to right,#be185d,#1d4ed8);background-repeat:no-repeat;background-position:bottom left;-webkit-background-size:0%2px;-moz-background-size:0%2px;-o-background-size:0%2px;background-size:0%2px;-webkit-transition:background-size 150ms ease-in-out;-moz-transition:background-size 150ms ease-in-out;-o-transition:background-size 150ms ease-in-out;transition:background-size 150ms ease-in-out}.gradient-underline.jsx-8b75a9ccf5c40d44:hover .jsx-8b75a9ccf5c40d44:not(.anchor){-webkit-background-size:100%2px;-moz-background-size:100%2px;-o-background-size:100%2px;background-size:100%2px;color:inherit}</style></head><body><div id="__next"><div class="relative min-h-screen overflow-x-hidden"><nav class="relative my-4 flex items-center justify-between px-8"><a href="#main" class="z-index-50 absolute left-1/2 -translate-y-32 rounded-lg border-[1px] border-tertiary bg-secondary px-4 py-2 shadow-md transition duration-200 focus:block focus:translate-y-0 focus:border-accent">Skip to main content</a><ol aria-label="breadcrumb" class="flex space-x-2"><li><a aria-current="false" class="jsx-8b75a9ccf5c40d44 transition duration-200 text-gray-300 transition duration-200 hover:opacity-80" href="/">~</a></li></ol><ul class="hiden list-none space-x-2 md:flex"><li><a class="jsx-8b75a9ccf5c40d44 transition duration-200 hidden rounded-lg px-3 py-1 text-base text-gray-500 transition duration-200 hover:bg-gray-600 hover:bg-opacity-30 md:inline-block" href="/">Home</a></li><li><a class="jsx-8b75a9ccf5c40d44 transition duration-200 hidden rounded-lg px-3 py-1 text-base text-gray-500 transition duration-200 hover:bg-gray-600 hover:bg-opacity-30 md:inline-block" href="/blog/">Blog</a></li><li><a class="jsx-8b75a9ccf5c40d44 transition duration-200 hidden rounded-lg px-3 py-1 text-base text-gray-500 transition duration-200 hover:bg-gray-600 hover:bg-opacity-30 md:inline-block" href="/projects/">Projects</a></li><li><a class="jsx-8b75a9ccf5c40d44 transition duration-200 hidden rounded-lg px-3 py-1 text-base text-gray-500 transition duration-200 hover:bg-gray-600 hover:bg-opacity-30 md:inline-block" href="/achievements/">Achievements</a></li><li><a class="jsx-8b75a9ccf5c40d44 transition duration-200 hidden rounded-lg px-3 py-1 text-base text-gray-500 transition duration-200 hover:bg-gray-600 hover:bg-opacity-30 md:inline-block" href="/guestbook/">Guestbook</a></li></ul><div class="md:hidden"><div class="relative block md:hidden"><div class="hamburger-react" aria-label="Navigation Menu" aria-expanded="false" role="button" style="cursor:pointer;height:48px;position:relative;transition:0.4s cubic-bezier(0, 0, 0, 1);user-select:none;width:48px;outline:none;transform:none" tabindex="0"><div style="background:currentColor;height:2px;left:12px;position:absolute;border-radius:9em;width:24px;top:19px;transition:0.4s cubic-bezier(0, 0, 0, 1);transform:none"></div><div style="background:currentColor;height:2px;left:12px;position:absolute;border-radius:9em;width:24px;top:28px;transition:0.4s cubic-bezier(0, 0, 0, 1);transform:none"></div></div></div><ul class="absolute left-0 z-50 flex h-screen w-full list-none flex-col space-y-6 bg-primary px-8 pt-8 md:hidden" style="transform:translateX(100%) translateZ(0)"><li class="border-b-[1px] border-b-tertiary py-1 pl-2 text-gray-400 transition duration-200 hover:text-gray-500" style="opacity:0;transform:translateY(50px) translateZ(0)"><a class="jsx-8b75a9ccf5c40d44 transition duration-200 flex w-auto" href="/">Home</a></li><li class="border-b-[1px] border-b-tertiary py-1 pl-2 text-gray-400 transition duration-200 hover:text-gray-500" style="opacity:0;transform:translateY(50px) translateZ(0)"><a class="jsx-8b75a9ccf5c40d44 transition duration-200 flex w-auto" href="/blog/">Blog</a></li><li class="border-b-[1px] border-b-tertiary py-1 pl-2 text-gray-400 transition duration-200 hover:text-gray-500" style="opacity:0;transform:translateY(50px) translateZ(0)"><a class="jsx-8b75a9ccf5c40d44 transition duration-200 flex w-auto" href="/projects/">Projects</a></li><li class="border-b-[1px] border-b-tertiary py-1 pl-2 text-gray-400 transition duration-200 hover:text-gray-500" style="opacity:0;transform:translateY(50px) translateZ(0)"><a class="jsx-8b75a9ccf5c40d44 transition duration-200 flex w-auto" href="/achievements/">Achievements</a></li><li class="border-b-[1px] border-b-tertiary py-1 pl-2 text-gray-400 transition duration-200 hover:text-gray-500" style="opacity:0;transform:translateY(50px) translateZ(0)"><a class="jsx-8b75a9ccf5c40d44 transition duration-200 flex w-auto" href="/guestbook/">Guestbook</a></li></ul></div></nav><style>
      #nprogress {
        pointer-events: none;
      }
      #nprogress .bar {
        background: #A0A0A0;
        position: fixed;
        z-index: 9999;
        top: 0;
        left: 0;
        width: 100%;
        height: 3px;
      }
      #nprogress .peg {
        display: block;
        position: absolute;
        right: 0px;
        width: 100px;
        height: 100%;
        box-shadow: 0 0 10px #A0A0A0, 0 0 5px #A0A0A0;
        opacity: 1;
        -webkit-transform: rotate(3deg) translate(0px, -4px);
        -ms-transform: rotate(3deg) translate(0px, -4px);
        transform: rotate(3deg) translate(0px, -4px);
      }
      #nprogress .spinner {
        display: block;
        position: fixed;
        z-index: 1031;
        top: 15px;
        right: 15px;
      }
      #nprogress .spinner-icon {
        width: 18px;
        height: 18px;
        box-sizing: border-box;
        border: solid 2px transparent;
        border-top-color: #A0A0A0;
        border-left-color: #A0A0A0;
        border-radius: 50%;
        -webkit-animation: nprogresss-spinner 400ms linear infinite;
        animation: nprogress-spinner 400ms linear infinite;
      }
      .nprogress-custom-parent {
        overflow: hidden;
        position: relative;
      }
      .nprogress-custom-parent #nprogress .spinner,
      .nprogress-custom-parent #nprogress .bar {
        position: absolute;
      }
      @-webkit-keyframes nprogress-spinner {
        0% {
          -webkit-transform: rotate(0deg);
        }
        100% {
          -webkit-transform: rotate(360deg);
        }
      }
      @keyframes nprogress-spinner {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }
    </style><main id="main" class="relative mx-auto mb-16 max-w-4xl px-8"><h1 class="mb-16 mt-8 text-4xl font-bold">Cryptography with Python using Fernet</h1><div class="overflow-hidden rounded-xl"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%271920%27%20height=%271080%27/%3e"/></span><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-xl drop-shadow-md" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img srcSet="https://cdn.hashnode.com/res/hashnode/image/upload/v1618046247940%2FJiNf1vAbR.png?imwidth=1920 1x, https://cdn.hashnode.com/res/hashnode/image/upload/v1618046247940%2FJiNf1vAbR.png?imwidth=3840 2x" src="https://cdn.hashnode.com/res/hashnode/image/upload/v1618046247940%2FJiNf1vAbR.png?imwidth=3840" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-xl drop-shadow-md" loading="lazy"/></noscript></span></div><div class="my-16 flex justify-between rounded-lg border-[1px] border-tertiary bg-secondary px-4 py-2 text-gray-300"><div class="mt-1 flex items-center space-x-2"><div class="mr-1 mt-1"><span style="box-sizing:border-box;display:inline-block;overflow:hidden;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;position:relative;max-width:100%"><span style="box-sizing:border-box;display:block;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0;max-width:100%"><img style="display:block;max-width:100%;width:initial;height:initial;background:none;opacity:1;border:0;margin:0;padding:0" alt="" aria-hidden="true" src="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%2732%27%20height=%2732%27/%3e"/></span><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="intrinsic" class="rounded-full" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%;background-size:cover;background-position:0% 0%;filter:blur(20px);background-image:url(&quot;data:image/jpeg;base64,/9j/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAAIAAgDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAdEAEAAQMFAAAAAAAAAAAAAAABAAIDIgQFERMy/8QAFAEBAAAAAAAAAAAAAAAAAAAABP/EABcRAQEBAQAAAAAAAAAAAAAAAAEAEUH/2gAMAwEAAhEDEQA/AJNjcbXZViOo9quCcxEQepIceX//2Q==&quot;)"/><noscript><img srcSet="_next/static/media/avatar.ab79db67.jpeg?imwidth=32 1x, _next/static/media/avatar.ab79db67.jpeg?imwidth=64 2x" src="_next/static/media/avatar.ab79db67.jpeg?imwidth=64" decoding="async" data-nimg="intrinsic" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" class="rounded-full" loading="lazy"/></noscript></span></div><p>Anish De</p><span aria-hidden="true">/</span><p>2021-04-10</p></div><div class="flex items-center space-x-2"><p>491<!-- --> words</p><span aria-hidden="true">/</span><p>3 min read</p></div></div><article><div class="prose leading-8"><p>Let us look at how to encrypt text and files using Python.
For this we are going to be using <a href="https://cryptography.io/en/latest/fernet.html" target="_blank" rel="noopener noreferrer" class="jsx-8b75a9ccf5c40d44 mr-1 inline-flex items-center space-x-1 text-gray-300 transition duration-200 gradient-underline no-underline text-blue-400 hover:text-blue-300 text-blue-400 hover:text-blue-300"><span class="jsx-8b75a9ccf5c40d44">Fernet</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></a> which is a part of python&#x27;s cryptography package</p>
<p>So let us get right into it</p>
<p>Ok firstly we need to downloaded the cryptography package using <code>pip</code></p>
<p>On Windows:</p>
<div data-rehype-pretty-code-fragment=""><div style="position:relative;overflow:auto"><pre data-language="sh" data-theme="default"><code data-language="sh" data-theme="default"><span class="line"><span style="color:#C9D1D9">pip install cryptography</span></span></code></pre></div></div>
<p>On Linux/macOS:</p>
<div data-rehype-pretty-code-fragment=""><div style="position:relative;overflow:auto"><pre data-language="sh" data-theme="default"><code data-language="sh" data-theme="default"><span class="line"><span style="color:#C9D1D9">pip3 install cryptography</span></span></code></pre></div></div>
<p>After we have executed the command in the terminal, we are ready to start coding.</p>
<p>You might want to use your favourite code editor (vscode, sublime text, atom etc...) or any IDE.</p>
<p>Now let us first import the required library</p>
<div data-rehype-pretty-code-fragment=""><div style="position:relative;overflow:auto"><pre data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span class="line"><span style="color:#FF7B72">from</span><span style="color:#C9D1D9"> cryptography.fernet </span><span style="color:#FF7B72">import</span><span style="color:#C9D1D9"> Fernet</span></span></code></pre></div></div>
<p>Then we are going to define a function that will write the key to a file</p>
<div data-rehype-pretty-code-fragment=""><div style="position:relative;overflow:auto"><pre data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span class="line"><span style="color:#FF7B72">def</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">write_key</span><span style="color:#C9D1D9">():</span></span>
<span class="line"><span style="color:#C9D1D9">    key </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> Fernet.generate_key() </span><span style="color:#8B949E"># Generates the key</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">with</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">open</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;key.key&quot;</span><span style="color:#C9D1D9">, </span><span style="color:#A5D6FF">&quot;wb&quot;</span><span style="color:#C9D1D9">) </span><span style="color:#FF7B72">as</span><span style="color:#C9D1D9"> key_file: </span><span style="color:#8B949E"># Opens the file the key is to be written to</span></span>
<span class="line"><span style="color:#C9D1D9">        key_file.write(key) </span><span style="color:#8B949E"># Writes the key</span></span></code></pre></div></div>
<p>We will also write down a function that will help with reading and loading the key into a variable</p>
<div data-rehype-pretty-code-fragment=""><div style="position:relative;overflow:auto"><pre data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span class="line"><span style="color:#FF7B72">def</span><span style="color:#C9D1D9"> </span><span style="color:#D2A8FF">load_key</span><span style="color:#C9D1D9">():</span></span>
<span class="line"><span style="color:#C9D1D9">    </span><span style="color:#FF7B72">return</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">open</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;key.key&quot;</span><span style="color:#C9D1D9">, </span><span style="color:#A5D6FF">&quot;rb&quot;</span><span style="color:#C9D1D9">).read() </span><span style="color:#8B949E">#Opens the file, reads and returns the key stored in the file</span></span></code></pre></div></div>
<p>Now let us take the message we are going to encode as user input and encode it to bytes because that is how fernet works</p>
<div data-rehype-pretty-code-fragment=""><div style="position:relative;overflow:auto"><pre data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span class="line"><span style="color:#C9D1D9">message </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> </span><span style="color:#79C0FF">input</span><span style="color:#C9D1D9">(</span><span style="color:#A5D6FF">&quot;Message: &quot;</span><span style="color:#C9D1D9">).encode() </span><span style="color:#8B949E"># Takes the message as user input and encodes it</span></span></code></pre></div></div>
<p>Now we need to write are top secret key to the key file. We are going to run this only once and then comment the line out because we don&#x27;t want it to write a new key down every time the code is run.</p>
<div data-rehype-pretty-code-fragment=""><div style="position:relative;overflow:auto"><pre data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span class="line"><span style="color:#C9D1D9">write_key() </span><span style="color:#8B949E"># Writes the key to the key file</span></span></code></pre></div></div>
<p>Now we need to load the key i.e. read the key from the key file and store it in a variable called as <code>key</code> though you can name it whatever you want</p>
<div data-rehype-pretty-code-fragment=""><div style="position:relative;overflow:auto"><pre data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span class="line"><span style="color:#C9D1D9">key </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> load_key() </span><span style="color:#8B949E"># Loads the key and stores it in a variable</span></span></code></pre></div></div>
<p>Now we need to initialize the fernet object by passing in the key we just loaded</p>
<div data-rehype-pretty-code-fragment=""><div style="position:relative;overflow:auto"><pre data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span class="line"><span style="color:#C9D1D9">f </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> Fernet(key)</span></span></code></pre></div></div>
<p>Now let us get to the main part, encrypting the message
Also let us print it out</p>
<div data-rehype-pretty-code-fragment=""><div style="position:relative;overflow:auto"><pre data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span class="line"><span style="color:#C9D1D9">encrypted_message </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> f.encrypt(message)</span></span>
<span class="line"><span style="color:#79C0FF">print</span><span style="color:#C9D1D9">(encrypted_message)</span></span></code></pre></div></div>
<p>Output:</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1618045556166/NkVXFrg-7.png" alt="image.png" class="my-8 rounded-md"/></p>
<p>You see that the encrypted message cannot be understood by anyone so it is safe now and will be the same unless decrypted with the same key</p>
<p>To decrypt, it is a very similar process</p>
<div data-rehype-pretty-code-fragment=""><div style="position:relative;overflow:auto"><pre data-language="python" data-theme="default"><code data-language="python" data-theme="default"><span class="line"><span style="color:#C9D1D9">decrypted_message </span><span style="color:#FF7B72">=</span><span style="color:#C9D1D9"> f.decrypt(encrypred_message)</span></span>
<span class="line"><span style="color:#79C0FF">print</span><span style="color:#C9D1D9">(decrypted_message)</span></span></code></pre></div></div>
<p>Output:</p>
<p><img src="https://cdn.hashnode.com/res/hashnode/image/upload/v1618045676137/GQuPm-UeO.png" alt="image.png" class="my-8 rounded-md"/>
So here, first the message is encrypted and is printed out and then we decrypt it and print it in the next line. If the initial message and the decrypted message are the exact same, our code has worked!!!</p>
<p>So that was it for this tiny blog (and it was my first blog ever so leave down some feedback!!!)</p>
<h1 id="video-tutorial"><a class="jsx-8b75a9ccf5c40d44 transition duration-200 text-blue-400 hover:text-blue-300" href="/blog-wip/cryptography-with-python-using-fernet/#video-tutorial"><span class="icon icon-link"></span></a>Video Tutorial:</h1>
<p><a href="https://youtu.be/P2k4f1tu-ss" target="_blank" rel="noopener noreferrer" class="jsx-8b75a9ccf5c40d44 mr-1 inline-flex items-center space-x-1 text-gray-300 transition duration-200 gradient-underline no-underline text-blue-400 hover:text-blue-300 text-blue-400 hover:text-blue-300"><span class="jsx-8b75a9ccf5c40d44">Link</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></a></p>
<p>%[https://www.youtube.com/watch?v=P2k4f1tu-ss]</p></div><div class="my-8 h-1 w-full rounded-full bg-secondary"></div><div class="rounded-xl border-[1px] border-tertiary p-8"></div></article><div style="position:fixed;z-index:9999;top:16px;left:16px;right:16px;bottom:16px;pointer-events:none"></div><div class="absolute top-0 left-0 right-0"><div class="absolute left-8 top-16 -z-10 overflow-visible opacity-20"><div class="circle-1 -z-10 h-[400px] w-[700px] rounded-full bg-red-700 mix-blend-multiply blur-[128px]"></div></div><div class="absolute left-10 top-32 -z-10 overflow-visible opacity-20"><div class="circle-2 -z-10 h-[400px] w-[700px] rounded-full bg-green-700 mix-blend-multiply blur-[128px]"></div></div><div class="absolute left-12 top-48 -z-10 overflow-visible opacity-20"><div class="circle-3 -z-10 h-[600px] w-[500px] rounded-full bg-blue-700 mix-blend-multiply blur-[128px]"></div></div></div></main><footer class="mx-auto mb-16 flex max-w-3xl flex-col items-center space-y-4 px-8 text-center"><div class="flex space-x-4 mb-8"><button data-state="closed" tabindex="-1"><a href="https://twitter.com/AnishDe12020" target="_blank" rel="noopener noreferrer" aria-label="Twitter" class="jsx-8b75a9ccf5c40d44 mr-1 inline-flex items-center space-x-1 text-gray-300 transition duration-200"><svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" viewBox="0 0 248 204" xml:space="preserve" fill="none" color="#fff" class="rounded-xl shadow-md border-[1px] border-tertiary bg-secondary/30 h-8 w-8 px-1.5 py-1" aria-label="Twitter"><path d="M221.95 51.29c.15 2.17.15 4.34.15 6.53 0 66.73-50.8 143.69-143.69 143.69v-.04c-27.44.04-54.31-7.82-77.41-22.64 3.99.48 8 .72 12.02.73 22.74.02 44.83-7.61 62.72-21.66-21.61-.41-40.56-14.5-47.18-35.07a50.338 50.338 0 0022.8-.87C27.8 117.2 10.85 96.5 10.85 72.46v-.64a50.18 50.18 0 0022.92 6.32C11.58 63.31 4.74 33.79 18.14 10.71a143.333 143.333 0 00104.08 52.76 50.532 50.532 0 0114.61-48.25c20.34-19.12 52.33-18.14 71.45 2.19 11.31-2.23 22.15-6.38 32.07-12.26a50.69 50.69 0 01-22.2 27.93c10.01-1.18 19.79-3.86 29-7.95a102.594 102.594 0 01-25.2 26.16z" fill="currentColor"></path></svg> </a></button><button data-state="closed" tabindex="-1"><a href="https://github.com/AnishDe12020" target="_blank" rel="noopener noreferrer" aria-label="GitHub" class="jsx-8b75a9ccf5c40d44 mr-1 inline-flex items-center space-x-1 text-gray-300 transition duration-200"><svg aria-hidden="true" data-prefix="fab" data-icon="github" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512" class="rounded-xl shadow-md border-[1px] border-tertiary bg-secondary/30 h-8 w-8 px-1.5 py-1" aria-label="GitHub" color="#fff"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> </a></button><button data-state="closed" tabindex="-1"><a href="https://www.youtube.com/anishtechtutorials" target="_blank" rel="noopener noreferrer" aria-label="YouTube" class="jsx-8b75a9ccf5c40d44 mr-1 inline-flex items-center space-x-1 text-gray-300 transition duration-200"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill="none" color="#fff" class="rounded-xl shadow-md border-[1px] border-tertiary bg-secondary/30 h-8 w-8 px-1.5 py-1" aria-label="YouTube"><path fill="currentColor" d="M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"></path></svg> </a></button><button data-state="closed" tabindex="-1"><a href="https://hashnode.com/@anishde12020" target="_blank" rel="noopener noreferrer" aria-label="Hashnode" class="jsx-8b75a9ccf5c40d44 mr-1 inline-flex items-center space-x-1 text-gray-300 transition duration-200"><svg viewBox="0 0 337 337" fill="none" color="#fff" class="rounded-xl shadow-md border-[1px] border-tertiary bg-secondary/30 h-8 w-8 px-1.5 py-1" aria-label="Hashnode"><path fill-rule="evenodd" clip-rule="evenodd" d="M23.155 112.598c-30.873 30.874-30.873 80.93 0 111.804l89.443 89.443c30.874 30.873 80.93 30.873 111.804 0l89.443-89.443c30.873-30.874 30.873-80.93 0-111.804l-89.443-89.443c-30.874-30.873-80.93-30.873-111.804 0l-89.443 89.443zm184.476 95.033c21.612-21.611 21.612-56.651 0-78.262-21.611-21.612-56.651-21.612-78.262 0-21.612 21.611-21.612 56.651 0 78.262 21.611 21.612 56.651 21.612 78.262 0z" fill="currentColor"></path></svg> </a></button><button data-state="closed" tabindex="-1"><a href="https://dev.to/anishde12020" target="_blank" rel="noopener noreferrer" aria-label="Dev.to" class="jsx-8b75a9ccf5c40d44 mr-1 inline-flex items-center space-x-1 text-gray-300 transition duration-200"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" color="#fff" class="rounded-xl shadow-md border-[1px] border-tertiary bg-secondary/30 h-8 w-8 px-1.5 py-1" aria-label="Dev.to"><path d="M120.12 208.29c-3.88-2.9-7.77-4.35-11.65-4.35H91.03v104.47h17.45c3.88 0 7.77-1.45 11.65-4.35 3.88-2.9 5.82-7.25 5.82-13.06v-69.65c-.01-5.8-1.96-10.16-5.83-13.06zM404.1 32H43.9C19.7 32 .06 51.59 0 75.8v360.4C.06 460.41 19.7 480 43.9 480h360.2c24.21 0 43.84-19.59 43.9-43.8V75.8c-.06-24.21-19.7-43.8-43.9-43.8zM154.2 291.19c0 18.81-11.61 47.31-48.36 47.25h-46.4V172.98h47.38c35.44 0 47.36 28.46 47.37 47.28l.01 70.93zm100.68-88.66H201.6v38.42h32.57v29.57H201.6v38.41h53.29v29.57h-62.18c-11.16.29-20.44-8.53-20.72-19.69V193.7c-.27-11.15 8.56-20.41 19.71-20.69h63.19l-.01 29.52zm103.64 115.29c-13.2 30.75-36.85 24.63-47.44 0l-38.53-144.8h32.57l29.71 113.72 29.57-113.72h32.58l-38.46 144.8z" fill="currentColor"></path></svg> </a></button></div><p>Made by <a href="https://twitter.com/AnishDe12020" target="_blank" rel="noopener noreferrer" class="jsx-8b75a9ccf5c40d44 mr-1 inline-flex items-center space-x-1 text-gray-300 transition duration-200 gradient-underline no-underline text-blue-400 hover:text-blue-300"><span class="jsx-8b75a9ccf5c40d44">Anish De</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></a></p><p>This portfolio is open source and the source code can be found<!-- --> <a href="https://github.com/AnishDe12020/portfolio" target="_blank" rel="noopener noreferrer" class="jsx-8b75a9ccf5c40d44 mr-1 inline-flex items-center space-x-1 text-gray-300 transition duration-200 gradient-underline no-underline text-blue-400 hover:text-blue-300"><span class="jsx-8b75a9ccf5c40d44">on GitHub</span> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><line x1="7" y1="17" x2="17" y2="7"></line><polyline points="7 7 17 7 17 17"></polyline></svg></a></p></footer><button class="fixed right-8 bottom-8 rounded-md p-1 transition duration-200 hover:shadow-commandButton focus:outline-none focus-visible:shadow-commandButton" aria-label="Command Bar"><svg class="feather feather-command" fill="none" height="24" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M18 3a3 3 0 00-3 3v12a3 3 0 003 3 3 3 0 003-3 3 3 0 00-3-3H6a3 3 0 00-3 3 3 3 0 003 3 3 3 0 003-3V6a3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3h12a3 3 0 003-3 3 3 0 00-3-3z"></path></svg></button></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"blogPost":{"title":"Cryptography with Python using Fernet","date":"2021-04-10","cannonicalURL":"https://blog.anishde.dev/cryptography-with-python-using-fernet","image":{"height":"1080","width":"1920","url":"https://cdn.hashnode.com/res/hashnode/image/upload/v1618046247940%2FJiNf1vAbR.png","type":"CloudinaryImage","_raw":{}},"body":{"raw":"\nLet us look at how to encrypt text and files using Python.\nFor this we are going to be using [Fernet](https://cryptography.io/en/latest/fernet.html) which is a part of python's cryptography package\n\nSo let us get right into it\n\nOk firstly we need to downloaded the cryptography package using `pip`\n\nOn Windows:\n\n```sh\npip install cryptography\n```\n\nOn Linux/macOS:\n\n```sh\npip3 install cryptography\n```\n\nAfter we have executed the command in the terminal, we are ready to start coding.\n\nYou might want to use your favourite code editor (vscode, sublime text, atom etc...) or any IDE.\n\nNow let us first import the required library\n\n```python\nfrom cryptography.fernet import Fernet\n```\n\nThen we are going to define a function that will write the key to a file\n\n```python\ndef write_key():\n    key = Fernet.generate_key() # Generates the key\n    with open(\"key.key\", \"wb\") as key_file: # Opens the file the key is to be written to\n        key_file.write(key) # Writes the key\n```\n\nWe will also write down a function that will help with reading and loading the key into a variable\n\n```python\ndef load_key():\n    return open(\"key.key\", \"rb\").read() #Opens the file, reads and returns the key stored in the file\n```\n\nNow let us take the message we are going to encode as user input and encode it to bytes because that is how fernet works\n\n```python\nmessage = input(\"Message: \").encode() # Takes the message as user input and encodes it\n```\n\nNow we need to write are top secret key to the key file. We are going to run this only once and then comment the line out because we don't want it to write a new key down every time the code is run. \n\n```python\nwrite_key() # Writes the key to the key file\n```\nNow we need to load the key i.e. read the key from the key file and store it in a variable called as `key` though you can name it whatever you want\n\n```python\nkey = load_key() # Loads the key and stores it in a variable\n```\n\nNow we need to initialize the fernet object by passing in the key we just loaded\n\n```python\nf = Fernet(key)\n```\n\nNow let us get to the main part, encrypting the message\nAlso let us print it out\n\n```python\nencrypted_message = f.encrypt(message)\nprint(encrypted_message)\n```\n\nOutput:\n\n![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1618045556166/NkVXFrg-7.png)\n\nYou see that the encrypted message cannot be understood by anyone so it is safe now and will be the same unless decrypted with the same key\n\nTo decrypt, it is a very similar process\n```python\ndecrypted_message = f.decrypt(encrypred_message)\nprint(decrypted_message)\n```\n\nOutput:\n\n![image.png](https://cdn.hashnode.com/res/hashnode/image/upload/v1618045676137/GQuPm-UeO.png)\nSo here, first the message is encrypted and is printed out and then we decrypt it and print it in the next line. If the initial message and the decrypted message are the exact same, our code has worked!!!\n\nSo that was it for this tiny blog (and it was my first blog ever so leave down some feedback!!!)\n\n# Video Tutorial:\n[Link](https://youtu.be/P2k4f1tu-ss)\n\n%[https://www.youtube.com/watch?v=P2k4f1tu-ss]\n","code":"var Component=(()=\u003e{var h=Object.create;var r=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var y=Object.getOwnPropertyNames;var g=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var u=(t,e)=\u003e()=\u003e(e||t((e={exports:{}}).exports,e),e.exports),D=(t,e)=\u003e{for(var a in e)r(t,a,{get:e[a],enumerable:!0})},s=(t,e,a,d)=\u003e{if(e\u0026\u0026typeof e==\"object\"||typeof e==\"function\")for(let l of y(e))!m.call(t,l)\u0026\u0026l!==a\u0026\u0026r(t,l,{get:()=\u003ee[l],enumerable:!(d=p(e,l))||d.enumerable});return t};var f=(t,e,a)=\u003e(a=t!=null?h(g(t)):{},s(e||!t||!t.__esModule?r(a,\"default\",{value:t,enumerable:!0}):a,t)),w=t=\u003es(r({},\"__esModule\",{value:!0}),t);var c=u((b,o)=\u003e{o.exports=_jsx_runtime});var v={};D(v,{default:()=\u003eC,frontmatter:()=\u003eF});var n=f(c()),F={title:\"Cryptography with Python using Fernet\",date:\"2021-04-10\",cannonicalURL:\"https://blog.anishde.dev/cryptography-with-python-using-fernet\",image:{url:\"https://cdn.hashnode.com/res/hashnode/image/upload/v1618046247940%2FJiNf1vAbR.png\",height:\"1080\",width:\"1920\"}};function i(t){let e=Object.assign({p:\"p\",a:\"a\",code:\"code\",div:\"div\",pre:\"pre\",span:\"span\",img:\"img\",h1:\"h1\"},t.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:[`Let us look at how to encrypt text and files using Python.\nFor this we are going to be using `,(0,n.jsx)(e.a,{href:\"https://cryptography.io/en/latest/fernet.html\",children:\"Fernet\"}),\" which is a part of python's cryptography package\"]}),`\n`,(0,n.jsx)(e.p,{children:\"So let us get right into it\"}),`\n`,(0,n.jsxs)(e.p,{children:[\"Ok firstly we need to downloaded the cryptography package using \",(0,n.jsx)(e.code,{children:\"pip\"})]}),`\n`,(0,n.jsx)(e.p,{children:\"On Windows:\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"sh\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"sh\",\"data-theme\":\"default\",children:(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"pip install cryptography\"})})})})}),`\n`,(0,n.jsx)(e.p,{children:\"On Linux/macOS:\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"sh\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"sh\",\"data-theme\":\"default\",children:(0,n.jsx)(e.span,{className:\"line\",children:(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"pip3 install cryptography\"})})})})}),`\n`,(0,n.jsx)(e.p,{children:\"After we have executed the command in the terminal, we are ready to start coding.\"}),`\n`,(0,n.jsx)(e.p,{children:\"You might want to use your favourite code editor (vscode, sublime text, atom etc...) or any IDE.\"}),`\n`,(0,n.jsx)(e.p,{children:\"Now let us first import the required library\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"from\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" cryptography.fernet \"}),(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"import\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" Fernet\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"Then we are going to define a function that will write the key to a file\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"python\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"def\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#D2A8FF\"},children:\"write_key\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"():\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"    key \"}),(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" Fernet.generate_key() \"}),(0,n.jsx)(e.span,{style:{color:\"#8B949E\"},children:\"# Generates the key\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"    \"}),(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"with\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79C0FF\"},children:\"open\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#A5D6FF\"},children:'\"key.key\"'}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#A5D6FF\"},children:'\"wb\"'}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\") \"}),(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"as\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" key_file: \"}),(0,n.jsx)(e.span,{style:{color:\"#8B949E\"},children:\"# Opens the file the key is to be written to\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"        key_file.write(key) \"}),(0,n.jsx)(e.span,{style:{color:\"#8B949E\"},children:\"# Writes the key\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"We will also write down a function that will help with reading and loading the key into a variable\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"python\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"def\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#D2A8FF\"},children:\"load_key\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"():\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"    \"}),(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"return\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79C0FF\"},children:\"open\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#A5D6FF\"},children:'\"key.key\"'}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\", \"}),(0,n.jsx)(e.span,{style:{color:\"#A5D6FF\"},children:'\"rb\"'}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\").read() \"}),(0,n.jsx)(e.span,{style:{color:\"#8B949E\"},children:\"#Opens the file, reads and returns the key stored in the file\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"Now let us take the message we are going to encode as user input and encode it to bytes because that is how fernet works\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"message \"}),(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" \"}),(0,n.jsx)(e.span,{style:{color:\"#79C0FF\"},children:\"input\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"(\"}),(0,n.jsx)(e.span,{style:{color:\"#A5D6FF\"},children:'\"Message: \"'}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\").encode() \"}),(0,n.jsx)(e.span,{style:{color:\"#8B949E\"},children:\"# Takes the message as user input and encodes it\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"Now we need to write are top secret key to the key file. We are going to run this only once and then comment the line out because we don't want it to write a new key down every time the code is run.\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"write_key() \"}),(0,n.jsx)(e.span,{style:{color:\"#8B949E\"},children:\"# Writes the key to the key file\"})]})})})}),`\n`,(0,n.jsxs)(e.p,{children:[\"Now we need to load the key i.e. read the key from the key file and store it in a variable called as \",(0,n.jsx)(e.code,{children:\"key\"}),\" though you can name it whatever you want\"]}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"key \"}),(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" load_key() \"}),(0,n.jsx)(e.span,{style:{color:\"#8B949E\"},children:\"# Loads the key and stores it in a variable\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:\"Now we need to initialize the fernet object by passing in the key we just loaded\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsx)(e.code,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"f \"}),(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" Fernet(key)\"})]})})})}),`\n`,(0,n.jsx)(e.p,{children:`Now let us get to the main part, encrypting the message\nAlso let us print it out`}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"python\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"encrypted_message \"}),(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" f.encrypt(message)\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#79C0FF\"},children:\"print\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"(encrypted_message)\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"Output:\"}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{src:\"https://cdn.hashnode.com/res/hashnode/image/upload/v1618045556166/NkVXFrg-7.png\",alt:\"image.png\"})}),`\n`,(0,n.jsx)(e.p,{children:\"You see that the encrypted message cannot be understood by anyone so it is safe now and will be the same unless decrypted with the same key\"}),`\n`,(0,n.jsx)(e.p,{children:\"To decrypt, it is a very similar process\"}),`\n`,(0,n.jsx)(e.div,{\"data-rehype-pretty-code-fragment\":\"\",children:(0,n.jsx)(e.pre,{\"data-language\":\"python\",\"data-theme\":\"default\",children:(0,n.jsxs)(e.code,{\"data-language\":\"python\",\"data-theme\":\"default\",children:[(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"decrypted_message \"}),(0,n.jsx)(e.span,{style:{color:\"#FF7B72\"},children:\"=\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\" f.decrypt(encrypred_message)\"})]}),`\n`,(0,n.jsxs)(e.span,{className:\"line\",children:[(0,n.jsx)(e.span,{style:{color:\"#79C0FF\"},children:\"print\"}),(0,n.jsx)(e.span,{style:{color:\"#C9D1D9\"},children:\"(decrypted_message)\"})]})]})})}),`\n`,(0,n.jsx)(e.p,{children:\"Output:\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.img,{src:\"https://cdn.hashnode.com/res/hashnode/image/upload/v1618045676137/GQuPm-UeO.png\",alt:\"image.png\"}),`\nSo here, first the message is encrypted and is printed out and then we decrypt it and print it in the next line. If the initial message and the decrypted message are the exact same, our code has worked!!!`]}),`\n`,(0,n.jsx)(e.p,{children:\"So that was it for this tiny blog (and it was my first blog ever so leave down some feedback!!!)\"}),`\n`,(0,n.jsxs)(e.h1,{id:\"video-tutorial\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#video-tutorial\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Video Tutorial:\"]}),`\n`,(0,n.jsx)(e.p,{children:(0,n.jsx)(e.a,{href:\"https://youtu.be/P2k4f1tu-ss\",children:\"Link\"})}),`\n`,(0,n.jsx)(e.p,{children:\"%[https://www.youtube.com/watch?v=P2k4f1tu-ss]\"})]})}function k(t={}){let{wrapper:e}=t.components||{};return e?(0,n.jsx)(e,Object.assign({},t,{children:(0,n.jsx)(i,t)})):i(t)}var C=k;return w(v);})();\n;return Component;"},"_id":"blog/cryptography-with-python-using-fernet.mdx","_raw":{"sourceFilePath":"blog/cryptography-with-python-using-fernet.mdx","sourceFileName":"cryptography-with-python-using-fernet.mdx","sourceFileDir":"blog","contentType":"mdx","flattenedPath":"blog/cryptography-with-python-using-fernet"},"type":"BlogPost","slug":"cryptography-with-python-using-fernet","dateUpdated":"Sat Nov 23 2024","readingTime":{"text":"3 min read","minutes":2.445,"time":146700,"words":489},"wordCount":491}},"__N_SSG":true},"page":"/blog-wip/[slug]","query":{"slug":"cryptography-with-python-using-fernet"},"buildId":"1y5MdXRHbj6Sx8QjW7rDU","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>